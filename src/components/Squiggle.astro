---
export interface Props {
  class?: string;
  autoAnimate?: boolean;
}

const { class: className, autoAnimate } = Astro.props;
---

<svg
  class={["squiggle__svg", className].filter(Boolean).join(" ")}
  aria-hidden="true"
  viewBox="0 0 87 40"
  xmlns="http://www.w3.org/2000/svg"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-miterlimit="1.5"
>
  <path
    d="M11.4 4.5S7.2 8.8 5 12c-.6.8-5.2 6.4-4.3 7.2.5.4 8.1-3 13.3-6.3L32.7.4c-.2.1-9 9.2-11 11-.8.9-11.8 11.1-10 12.8 1.2 1.2 25-12 25-12 0 .5-14.5 9.1-14.7 9.3-.6.4-8.6 5.2-7.5 6.4.6.6 6.8-2.5 7.2-2.6.1 0 14.4-7.4 16-7.8 1.3-.3 2-.2 3-.2 1.2.1 4.5.8 5.3 1 3 .8 9.3-3.2 8.5-4.3-.4-.6-4.8 1.1-5.6 1.5-2.4 1.3-15 7.6-14.3 9.9.1.4 3.3-1 3.7-1.2 2-.9 4-2.1 5.8-3.3 2-1.3 4.4-2 6.7-2.9 1.6-.5 4.4-1 5.1-1 5.5 0 12 1.2 11.8 1.9-.1.5-11.1 2.2-13 2.5-1.4.3-6 .5-6.5.5-6.1.6-10.4 3.2-10 3.7.5.8 4-.2 7.4-.3 6.8-.2 15.7-5 16.4-4.2.6.9-10.4 4-9.5 5 1 1.1 10.7-2.9 14.8-3.4a53 53 0 0 1 12 .7c3 .5 7 1.2 6.9 2.3 0 .7-8.8.5-10 .5-3.4 0-5.2-.6-10.3-.5-2.2 0-8-.1-8.3.4-.5.7 3.6 1.2 5 1.2 4.5 0 5.5-.4 10 0 2.8.2 9.7-.6 9.8-.3.4 1-4.5 1.8-5.9 2-2.4.5-5 1-7.3 2-.8.2-4.7 1.8-5.3 2.3-.3.3-1 1-1 1.3 0 .9 0 1.5 4.1 0 .9-.3 3-1.4 2.6-2.2-.5-1-3-.4-3.3-.3-2.8.5-5.2 1.6-6.2 1.9-2.9.8-10.3 5.2-10.4 5.2"
    fill="none"
    stroke="currentColor"
    class={["squiggle__path", autoAnimate && "animate"]
      .filter(Boolean)
      .join(" ")}></path>
</svg>

<style>
  .squiggle__svg {
    contain: content;
  }
  .squiggle__path {
    stroke-dashoffset: calc(453px - calc(var(--squiggle-length, 1) * 453px));
    stroke-dasharray: 453 453;
    transition:
      stroke-dashoffset 1s ease-out,
      visibility 1s ease-out;
  }
  .squiggle__path.animate {
    animation: 2s ease-out squiggle;
  }

  @keyframes squiggle {
    0% {
      stroke-dashoffset: 453px;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }
</style>
